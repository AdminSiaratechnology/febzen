<div class="modal fade" id="editOperatorModal-{{ operator.id }}" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white d-flex align-items-center justify-content-between mb-2">
        <div class="d-flex align-items-center">
          <i class="bi bi-person-fill fs-4 me-2"></i>
          <h5 class="modal-title fw-bold mb-0 text-white">Update Operator</h5>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <form action="{% url 'edit_operator' operator.id %}" method="POST" class="row g-3">
        {% csrf_token %}
        <div class="modal-body">

          <!-- Row 1 -->
          <div class="row mb-2">
            <div class="col-md-6">
              <label class="form-label">Operator Code</label>
              <input type="text" class="form-control" name="operator_code" value="{{ operator.operator_code }}" disabled required>
            </div>
            <div class="col-md-6">
              <label class="form-label">Full Name</label>
              <input type="text" class="form-control" name="full_name" value="{{ operator.full_name }}" required>
            </div>
          </div>

          <!-- Row 2 -->
          <div class="row mb-2">
            <div class="col-md-6">
              <label class="form-label">Department</label>
              <select class="form-select" name="department" required>
                <option value="" disabled>Select Department</option>
                <option value="Stitching" {% if operator.department == "Stitching" %}selected{% endif %}>Stitching</option>
                <option value="Cutting" {% if operator.department == "Cutting" %}selected{% endif %}>Cutting</option>
                <option value="Ironing" {% if operator.department == "Ironing" %}selected{% endif %}>Ironing</option>
                <option value="Packing" {% if operator.department == "Packing" %}selected{% endif %}>Packing</option>
                <option value="Quality Control" {% if operator.department == "Quality Control" %}selected{% endif %}>Quality Control</option>
              </select>
            </div>

            <div class="col-md-6">
              <label class="form-label">Mobile Number</label>
              <input type="text" class="form-control" name="mobile_number" value="{{ operator.mobile_number }}" required>
            </div>
          </div>

          <!-- Row 3 -->
          <div class="row mb-2">
            <div class="col-md-12">
              <label class="form-label">Skills</label>
              <textarea class="form-control" name="skills" placeholder="e.g., Single Needle, Overlock">{{ operator.skills }}</textarea>
            </div>
          </div>

          <!-- Row 4 -->
          <div class="row mb-2">
            <div class="col-md-6">
              <label class="form-label">Date of Joining</label>
              <input type="date" class="form-control" name="date_of_joining" value="{{ operator.date_of_joining|date:'Y-m-d' }}" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">Daily Wage / Salary</label>
              <input type="number" step="0.01" class="form-control" name="daily_wage" value="{{ operator.daily_wage }}" required>
            </div>
          </div>

          <!-- Row 5 -->
          <div class="row mb-2">
            <div class="col-md-6">
              <label class="form-label">Address</label>
              <textarea class="form-control" name="address" placeholder="Enter operator address..." rows="1">{{ operator.address }}</textarea>
            </div>
            <div class="col-md-6">
              <label class="form-label">Status</label>
              <select class="form-select" name="status">
                <option value="active" {% if operator.status == "active" %}selected{% endif %}>Active</option>
                <option value="leave" {% if operator.status == "leave" %}selected{% endif %}>Leave</option>
              </select>
            </div>
          </div>

          <!-- Row 6: Status -->
          {% comment %} <div class="row mb-2">
            <div class="col-md-6">
              <label class="form-label">Status</label>
              <select class="form-select" name="status">
                <option value="active" {% if operator.status == "active" %}selected{% endif %}>Active</option>
                <option value="leave" {% if operator.status == "leave" %}selected{% endif %}>Leave</option>
              </select>
            </div>
          </div> {% endcomment %}

        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary">Update Operator</button>
        </div>
      </form>
    </div>
  </div>
</div>

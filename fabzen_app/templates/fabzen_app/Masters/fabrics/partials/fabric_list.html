

{% for fabric in fabrics %}
<tr>
   <td><span class="badge bg-primary">{{ fabric.code }}</span></td>
   <td>{{ fabric.quality_name }}</td>
   <td>{{ fabric.construction }}</td>
   <td>{{ fabric.width }}</td>
   <td>{{ fabric.gsm }}</td>
   <td>{{ fabric.category }}</td>
   <td>{{ fabric.rate_per_meter }}</td>
   <td>
      <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#exampleLargeModal-{{fabric.id}}">Edit</button>
      {% include "fabzen_app/Masters/fabrics/partials/edit_fabric_form.html" %}
   </td>
</tr>
{% empty %}
<tr>
   <td colspan="8" class="text-center">No fabrics found.</td>
</tr>
{% endfor %}


{% if is_paginated %}
<tr>
  <td colspan="8">
    <nav aria-label="Page navigation">
   <ul class="pagination justify-content-end">
      {% if fabrics.has_previous %}
      <li class="page-item">
         <a class="page-link" 
            hx-get="{% url 'fabric_list' %}?page=1" 
            hx-target="#fabric-table" 
            hx-swap="innerHTML"
            hx-include="[name='search'], [name='type']">First</a>
      </li>
      <li class="page-item">
         <a class="page-link" 
            hx-get="{% url 'fabric_list' %}?page={{ fabrics.previous_page_number }}" 
            hx-target="#fabric-table" 
            hx-swap="innerHTML"
            hx-include="[name='search'], [name='type']">Previous</a>
      </li>
      {% else %}
      <li class="page-item disabled"><a class="page-link">First</a></li>
      <li class="page-item disabled"><a class="page-link">Previous</a></li>
      {% endif %}
      {% for i in paginator.page_range %}
      {% if fabrics.number == i %}
      <li class="page-item active"><a class="page-link" href="#">{{ i }}</a></li>
      {% elif i > fabrics.number|add:'-3' and i < fabrics.number|add:'3' %}
      <li class="page-item">
         <a class="page-link" 
            hx-get="{% url 'fabric_list' %}?page={{ i }}" 
            hx-target="#fabric-table" 
            hx-swap="innerHTML"
            hx-include="[name='search'], [name='type']">{{ i }}</a>
      </li>
      {% endif %}
      {% endfor %}
      {% if fabrics.has_next %}
      <li class="page-item">
         <a class="page-link" 
            hx-get="{% url 'fabric_list' %}?page={{ fabrics.next_page_number }}" 
            hx-target="#fabric-table" 
            hx-swap="innerHTML"
            hx-include="[name='search'], [name='type']">Next</a>
      </li>
      <li class="page-item">
         <a class="page-link" 
            hx-get="{% url 'fabric_list' %}?page={{ paginator.num_pages }}" 
            hx-target="#fabric-table"
            hx-swap="innerHTML"
            hx-include="[name='search'], [name='type']">Last</a>
      </li>
      {% else %}
      <li class="page-item disabled"><a class="page-link">Next</a></li>
      <li class="page-item disabled"><a class="page-link">Last</a></li>
      {% endif %}
   </ul>
</nav>

  </td>
</tr>


{% endif %}